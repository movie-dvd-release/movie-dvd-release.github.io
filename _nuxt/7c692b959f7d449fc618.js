(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{204:function(e,t,n){"use strict";var r=n(4),o=n(21),l=n(25),c=n(113),d=n(60),f=n(11),v=n(42).f,m=n(61).f,_=n(9).f,h=n(205).trim,w=r.Number,x=w,y=w.prototype,k="Number"==l(n(77)(y)),I="trim"in String.prototype,N=function(e){var t=d(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,l=(t=I?t.trim():h(t,3)).charCodeAt(0);if(43===l||45===l){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===l){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var code,c=t.slice(2),i=0,f=c.length;i<f;i++)if((code=c.charCodeAt(i))<48||code>o)return NaN;return parseInt(c,r)}}return+t};if(!w(" 0o1")||!w("0b1")||w("+0x1")){w=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof w&&(k?f((function(){y.valueOf.call(n)})):"Number"!=l(n))?c(new x(N(t)),n,w):N(t)};for(var C,L=n(8)?v(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;L.length>S;S++)o(x,C=L[S])&&!o(w,C)&&_(w,C,m(x,C));w.prototype=y,y.constructor=w,n(12)(r,"Number",w)}},205:function(e,t,n){var r=n(7),o=n(24),l=n(11),c=n(206),d="["+c+"]",f=RegExp("^"+d+d+"*"),v=RegExp(d+d+"*$"),m=function(e,t,n){var o={},d=l((function(){return!!c[e]()||"​"!="​"[e]()})),f=o[e]=d?t(_):c[e];n&&(o[n]=f),r(r.P+r.F*d,"String",o)},_=m.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(f,"")),2&t&&(e=e.replace(v,"")),e};e.exports=m},206:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},207:function(e,t,n){var content=n(211);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(20).default)("9c30dc74",content,!0,{sourceMap:!1})},208:function(e,t,n){var content=n(214);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(20).default)("c0b1ced6",content,!0,{sourceMap:!1})},210:function(e,t,n){"use strict";var r=n(207);n.n(r).a},211:function(e,t,n){(t=n(19)(!1)).push([e.i,'.stream[data-v-695b7770]{display:flex;flex-direction:column;margin-bottom:40px}.stream__info[data-v-695b7770]{display:flex;padding:10px 0}.stream__info-row[data-v-695b7770]{overflow:hidden}.stream__logo[data-v-695b7770]{width:30px;min-width:30px;height:30px;border-radius:100%;margin-right:10px}.stream__profile-name[data-v-695b7770],.stream__title[data-v-695b7770]{color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.stream__preview[data-v-695b7770]{background-size:cover;background-position:50%;overflow:hidden;display:flex;flex-direction:column;justify-content:flex-end;padding:10px}.stream__preview[data-v-695b7770]:before{content:"";padding-top:50%;float:left}.stream__viewers[data-v-695b7770]{color:#fff}.stream__viewers-round[data-v-695b7770]{width:10px;height:10px;border-radius:100%;display:inline-block;background-color:red}',""]),e.exports=t},213:function(e,t,n){"use strict";var r=n(208);n.n(r).a},214:function(e,t,n){(t=n(19)(!1)).push([e.i,".loading[data-v-09c06d2e]{color:#fff;width:100%;text-align:center;padding:20px;text-transform:uppercase;letter-spacing:2px;font-weight:700}",""]),e.exports=t},215:function(e,t,n){var content=n(230);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(20).default)("7cf68eb2",content,!0,{sourceMap:!1})},224:function(e,t,n){"use strict";var r={},o=(n(213),n(10)),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"loading"},[this._v("Loading...")])}),[],!1,null,"09c06d2e",null);t.a=component.exports},225:function(e,t,n){"use strict";n(204);var r={props:{preview:{type:String,default:""},viewers:{type:Number,default:null},logo:{type:String,default:""},userName:{type:String,default:""},title:{type:String,default:""},channelId:{type:String,default:null},channelLang:{type:String,default:""},apiType:{type:String,default:""}},computed:{_img:function(){var e=this.preview.slice(0,-20);return"".concat(e,"600x400.jpg")}}},o=(n(210),n(10)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nuxt-link",{staticClass:"stream",attrs:{to:"/stream?channel="+e.userName+"&id="+e.channelId}},["helix"===e.apiType?n("div",{staticClass:"stream__preview",style:"background-image: url("+e._img+")"},[n("div",{staticClass:"stream__viewers"},[n("span",{staticClass:"stream__viewers-round"}),e._v("\n      "+e._s(e.viewers)+" зрителей\n    ")])]):e._e(),e._v(" "),"kraken"===e.apiType?n("div",{staticClass:"stream__preview",style:"background-image: url("+e.preview+")"},[n("div",{staticClass:"stream__viewers"},[n("span",{staticClass:"stream__viewers-round"}),e._v("\n      "+e._s(e.viewers)+" зрителей\n    ")])]):e._e(),e._v(" "),n("div",{staticClass:"stream__info"},[n("div",{staticClass:"stream__info-row"},[n("div",{staticClass:"stream__profile-name"},[e._v("\n        ["+e._s(e.channelLang)+"] "+e._s(e.userName)+"\n      ")]),e._v(" "),n("div",{staticClass:"stream__title"},[e._v(e._s(e.title))])])])])}),[],!1,null,"695b7770",null);t.a=component.exports},229:function(e,t,n){"use strict";var r=n(215);n.n(r).a},230:function(e,t,n){(t=n(19)(!1)).push([e.i,".game-page[data-v-2177b387]{display:flex;flex-wrap:wrap}.language-filter[data-v-2177b387]{width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:hsla(0,0%,100%,.5);text-align:center;color:#fff;cursor:pointer;text-transform:uppercase;padding:10px}.row-stream-page[data-v-2177b387]{display:flex;flex-wrap:wrap;width:100%}.col-stream-page[data-v-2177b387]{width:33.33%;padding:0 10px}@media (max-width:767px){.col-stream-page[data-v-2177b387]{width:50%}}@media (max-width:479px){.col-stream-page[data-v-2177b387]{width:100%}}",""]),e.exports=t},248:function(e,t,n){"use strict";n.r(t);n(15);var r=n(2),o=n(225),l=n(224),c={components:{Stream:o.a,Loading:l.a},data:function(){return{isLoading:!1,title:"",id:"",language:"",streams:null,paginationID:null,scrollLoadingData:null,cachedData:null}},watch:{},beforeRouteUpdate:function(e,t,n){n(),this.language=this.$route.query.lang,this.__getStreams()},mounted:function(){var e=this;this.title=this.$route.query.title,this.language=this.$route.query.lang,this.id=this.$route.query.id,this.__getStreams(),this.scrollLoadingData=function(){var t=document.body.clientHeight;console.log("--\x3e",t),window.pageYOffset+window.innerHeight>=t-150&&!e.isLoading&&e.__moreStreams()},window.addEventListener("scroll",this.scrollLoadingData)},beforeDestroy:function(){window.removeEventListener("scroll",this.scrollLoadingData)},methods:{__getStreams:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isLoading=!0,e.streams=null,n={headers:{"Client-ID":"z97pdq1cei4wqu42l3kkkdnseq06bj",accept:"application/vnd.twitchtv.v5+json"}},"all"!==e.language){t.next=9;break}return t.next=6,e.$axios.$get("https://api.twitch.tv/helix/streams/?game_id=".concat(e.id),n);case 6:data=t.sent,t.next=12;break;case 9:return t.next=11,e.$axios.$get("https://api.twitch.tv/helix/streams/?game_id=".concat(e.id,"&language=").concat(e.language),n);case 11:data=t.sent;case 12:e.streams=data.data,e.paginationID=data.pagination.cursor,e.isLoading=!1;case 15:case"end":return t.stop()}}),t)})))()},__moreStreams:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isLoading=!0,n={headers:{"Client-ID":"z97pdq1cei4wqu42l3kkkdnseq06bj",accept:"application/vnd.twitchtv.v5+json"}},"all"!==e.language){t.next=8;break}return t.next=5,e.$axios.$get("https://api.twitch.tv/helix/streams/?game_id=".concat(e.id,"&after=").concat(e.paginationID),n);case 5:data=t.sent,t.next=11;break;case 8:return t.next=10,e.$axios.$get("https://api.twitch.tv/helix/streams/?game_id=".concat(e.id,"&language=").concat(e.language,"&after=").concat(e.paginationID),n);case 10:data=t.sent;case 11:e.streams=e.streams.concat(data.data),e.paginationID=data.pagination.cursor,e.isLoading=!1;case 14:case"end":return t.stop()}}),t)})))()}}},d=(n(229),n(10)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"game-page"},["all"===e.language?n("nuxt-link",{staticClass:"language-filter",attrs:{to:"/game?title="+e.title+"&id="+e.id+"&lang=ru"}},[e._v("\n      Показать трансляции на русском\n    ")]):e._e(),e._v(" "),"ru"===e.language?n("nuxt-link",{staticClass:"language-filter",attrs:{to:"/game?title="+e.title+"&id="+e.id+"&lang=all"}},[e._v("\n      Показать трансляции на всех языках\n    ")]):e._e(),e._v(" "),n("div",{staticClass:"row-stream-page"},e._l(e.streams,(function(e){return n("div",{key:e.id,staticClass:"col-stream-page"},[n("Stream",{attrs:{preview:e.thumbnail_url,userName:e.user_name,title:e.title,viewers:e.viewer_count,channelId:e.user_id,channelLang:e.language,apiType:"helix"}})],1)})),0)],1),e._v(" "),e.isLoading?n("Loading"):e._e()],1)}),[],!1,null,"2177b387",null);t.default=component.exports}}]);