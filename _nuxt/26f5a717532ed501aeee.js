(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{207:function(e,t,n){var content=n(215);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("c0b1ced6",content,!0,{sourceMap:!1})},208:function(e,t,n){"use strict";var r=n(4),o=n(21),c=n(25),l=n(114),d=n(61),f=n(11),m=n(42).f,v=n(62).f,h=n(10).f,_=n(209).trim,w=r.Number,x=w,I=w.prototype,N="Number"==c(n(78)(I)),k="trim"in String.prototype,E=function(e){var t=d(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,c=(t=k?t.trim():_(t,3)).charCodeAt(0);if(43===c||45===c){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===c){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var code,l=t.slice(2),i=0,f=l.length;i<f;i++)if((code=l.charCodeAt(i))<48||code>o)return NaN;return parseInt(l,r)}}return+t};if(!w(" 0o1")||!w("0b1")||w("+0x1")){w=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof w&&(N?f((function(){I.valueOf.call(n)})):"Number"!=c(n))?l(new x(E(t)),n,w):E(t)};for(var L,y=n(9)?m(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;y.length>C;C++)o(x,L=y[C])&&!o(w,L)&&h(w,L,v(x,L));w.prototype=I,I.constructor=w,n(12)(r,"Number",w)}},209:function(e,t,n){var r=n(8),o=n(24),c=n(11),l=n(210),d="["+l+"]",f=RegExp("^"+d+d+"*"),m=RegExp(d+d+"*$"),v=function(e,t,n){var o={},d=c((function(){return!!l[e]()||"​"!="​"[e]()})),f=o[e]=d?t(h):l[e];n&&(o[n]=f),r(r.P+r.F*d,"String",o)},h=v.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(f,"")),2&t&&(e=e.replace(m,"")),e};e.exports=v},210:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},214:function(e,t,n){"use strict";var r=n(207);n.n(r).a},215:function(e,t,n){(t=n(15)(!1)).push([e.i,".loading[data-v-09c06d2e]{color:#fff;width:100%;text-align:center;padding:20px;text-transform:uppercase;letter-spacing:2px;font-weight:700}",""]),e.exports=t},221:function(e,t,n){var content=n(241);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("4eefa911",content,!0,{sourceMap:!1})},222:function(e,t,n){var content=n(243);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(16).default)("239fe7a0",content,!0,{sourceMap:!1})},223:function(e,t,n){"use strict";var r={},o=(n(214),n(7)),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"loading"},[this._v("Loading...")])}),[],!1,null,"09c06d2e",null);t.a=component.exports},240:function(e,t,n){"use strict";var r=n(221);n.n(r).a},241:function(e,t,n){(t=n(15)(!1)).push([e.i,'.col[data-v-4e2eae34]{width:33.33%}@media (max-width:991px){.col[data-v-4e2eae34]{width:50%}}@media (max-width:575px){.col[data-v-4e2eae34]{width:100%}}.game[data-v-4e2eae34]{display:flex;border-bottom:1px solid hsla(0,0%,100%,.5);height:200px}.game__img[data-v-4e2eae34]{background-size:cover;background-position:50%;width:40%;display:block;overflow:hidden}.game__img[data-v-4e2eae34]:before{content:"";float:left;padding-top:140%}.game__info[data-v-4e2eae34]{padding:20px;flex:1}.game__title[data-v-4e2eae34]{color:#fff}.game__viewers[data-v-4e2eae34]{color:hsla(0,0%,100%,.7)}',""]),e.exports=t},242:function(e,t,n){"use strict";var r=n(222);n.n(r).a},243:function(e,t,n){(t=n(15)(!1)).push([e.i,".games[data-v-008ebaf7]{display:flex;flex-wrap:wrap}",""]),e.exports=t},247:function(e,t,n){"use strict";n.r(t);n(17);var r=n(2),o=(n(208),{props:{title:{type:String,default:""},img:{type:String,default:""},id:{type:Number,default:null},viewers:{type:Number,default:null}},computed:{_img:function(){var e=this.img.slice(0,-20);return"".concat(e,"285x380.jpg")}}}),c=(n(240),n(7)),l={components:{Game:Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col"},[n("nuxt-link",{staticClass:"game",attrs:{to:"/game?title="+e.title+"&id="+e.id+"&lang=all"}},[n("div",{staticClass:"game__img",style:"background-image: url("+e.img+")"}),e._v(" "),n("div",{staticClass:"game__info"},[n("div",{staticClass:"game__title"},[e._v(e._s(e.title))]),e._v(" "),n("div",{staticClass:"game__viewers"},[e._v(e._s(e.viewers)+" зрителей")])])])],1)}),[],!1,null,"4e2eae34",null).exports,Loading:n(223).a},data:function(){return{isLoading:!1,games:null,paginationId:null,scrollLoadingData:null}},mounted:function(){var e=this;this.$route.hash&&(this.$store.dispatch("auth/setToken",this.$route.hash),this.$router.push("/")),this.__getGames(),this.scrollLoadingData=function(){var t=document.body.clientHeight;window.pageYOffset+window.innerHeight>=t-150&&!e.isLoading&&e.__moreGames()},window.addEventListener("scroll",this.scrollLoadingData)},beforeDestroy:function(){window.removeEventListener("scroll",this.scrollLoadingData)},methods:{__moreGames:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,n={headers:{"Client-ID":"z97pdq1cei4wqu42l3kkkdnseq06bj",accept:"application/vnd.twitchtv.v5+json"}},t.next=4,e.$axios.$get("https://api.twitch.tv/kraken/games/top?offset=".concat(e.paginationId),n);case 4:data=t.sent,e.games=e.games.concat(data.top),e.paginationId=e.paginationId+10,e.isLoading=!1;case 8:case"end":return t.stop()}}),t)})))()},__getGames:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,n={headers:{"Client-ID":"z97pdq1cei4wqu42l3kkkdnseq06bj",accept:"application/vnd.twitchtv.v5+json"}},t.next=4,e.$axios.$get("https://api.twitch.tv/kraken/games/top",n);case 4:data=t.sent,e.paginationId=10,e.games=data.top,e.isLoading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},d=(n(242),Object(c.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"games"},this._l(this.games,(function(e){return t("Game",{key:e.game._id,attrs:{img:e.game.box.large,title:e.game.name,id:e.game._id,viewers:e.viewers}})})),1),this._v(" "),this.isLoading?t("Loading"):this._e()],1)}),[],!1,null,"008ebaf7",null));t.default=d.exports}}]);