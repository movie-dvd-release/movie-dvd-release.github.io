(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{218:function(e,t,r){var content=r(234);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("a2732ffe",content,!0,{sourceMap:!1})},219:function(e,t,r){var content=r(236);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("6f6750da",content,!0,{sourceMap:!1})},233:function(e,t,r){"use strict";var n=r(218);r.n(n).a},234:function(e,t,r){(t=r(15)(!1)).push([e.i,".quality-change[data-v-4b3c6b97]{position:absolute;bottom:0;left:0;right:0;background-color:#000;z-index:10}.quality[data-v-4b3c6b97]{padding:5px 20px;color:#fff;cursor:pointer}.quality.active[data-v-4b3c6b97]{color:#000;background-color:#fff}",""]),e.exports=t},235:function(e,t,r){"use strict";var n=r(219);r.n(n).a},236:function(e,t,r){(t=r(15)(!1)).push([e.i,".stream[data-v-3886e981]{display:flex;flex-wrap:wrap;height:100%;position:relative}.player-wrapper[data-v-3886e981]{position:relative;flex:1}.player[data-v-3886e981]{height:100%}.player .player-video .avap-ads-container[data-v-3886e981],.player .player-video .ima-ads-container[data-v-3886e981]{display:none!important}.player__controls[data-v-3886e981]{top:0;right:0;bottom:0;left:0;display:flex;z-index:1;justify-content:flex-end}.player__change-quality[data-v-3886e981],.player__controls[data-v-3886e981]{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.player__change-quality[data-v-3886e981]{color:#fff;bottom:10px;right:10px;cursor:pointer}.player__change-quality i[data-v-3886e981]{font-size:30px}.player__back[data-v-3886e981]{color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;left:10px;top:10px;cursor:pointer;z-index:4}.player__back i[data-v-3886e981]{font-size:30px}.player__follow[data-v-3886e981],.player__unfollow[data-v-3886e981]{color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;right:10px;top:10px;cursor:pointer;z-index:4}.player__follow i[data-v-3886e981],.player__unfollow i[data-v-3886e981]{font-size:30px}.player__loading[data-v-3886e981]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:3;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;text-align:center;font-weight:700;font-size:30px;color:#fff}.chat[data-v-3886e981]{width:30%}",""]),e.exports=t},243:function(e,t,r){"use strict";r.r(t);r(17);var n=r(2),l={props:{qualities:{type:Array,default:null},isShow:{type:Boolean,default:!1},changeQuality:{type:Function,default:null},currQuality:{type:String,default:null}}},o=(r(233),r(7)),c={layout:"stream-page",components:{QualityChange:Object(o.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("dir",[e.isShow?r("div",{staticClass:"quality-change"},e._l(e.qualities,(function(t){return r("div",{key:t.group,staticClass:"quality",class:{active:e.currQuality===t.group},on:{click:function(r){return e.changeQuality(t.group)}}},[e._v("\n      "+e._s(t.name)+"\n    ")])})),0):e._e()])}),[],!1,null,"4b3c6b97",null).exports},data:function(){return{userName:null,userID:null,player:null,qualities:[],currQuality:null,showQualityChange:!1,isPlayerFull:!1,isPlayerLoading:!1,isFollowed:!1}},mounted:function(){var e=this;this.isPlayerLoading=!0,this.userName=this.$route.query.channel,this.userID=this.$route.query.id;var t={channel:this.userName,controls:!1,width:"100%",height:"100%"};this.player=new Twitch.Player(this.$refs.player,t),this.player.addEventListener(Twitch.Player.PLAYING,(function(){e.qualities=e.player.getQualities(),e.isPlayerLoading=!1,e.currQuality=e.player.getQuality()})),this.__checkFollowChannel()},methods:{showQualities:function(){this.showQualityChange=!0},closeQualities:function(){this.showQualityChange=!1},changeQuality:function(q){this.player.setQuality(q),this.showQualityChange=!1},changePlayerSize:function(){this.isPlayerFull=!this.isPlayerFull},_back:function(){this.$router.back()},_follow:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$store.state.auth.userID,t.next=3,e.$store.dispatch("favorites/followChannel",[r,e.userID]);case 3:t.sent&&(e.isFollowed=!0);case 5:case"end":return t.stop()}}),t)})))()},_unFollow:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!confirm("Вы уверены, что хотите отписаться?")){t.next=7;break}return r=e.$store.state.auth.userID,t.next=5,e.$store.dispatch("favorites/unFollowChannel",[r,e.userID]);case 5:t.sent&&(e.isFollowed=!1);case 7:case"end":return t.stop()}}),t)})))()},__checkFollowChannel:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("auth/validateAuth");case 2:return r=e.$store.state.auth.userID,t.next=5,e.$store.dispatch("favorites/checkFollowChannel",[r,e.userID]);case 5:data=t.sent,e.isFollowed=data;case 7:case"end":return t.stop()}}),t)})))()}}},f=(r(235),Object(o.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"stream"},[r("div",{ref:"playerWrapper",staticClass:"player-wrapper"},[r("div",{staticClass:"player__controls",on:{dblclick:function(t){return e.changePlayerSize()},click:function(t){return e.closeQualities()}}},[r("div",{staticClass:"player__back",on:{click:function(t){return t.stopPropagation(),e._back()}}},[r("i",{staticClass:"fas fa-arrow-left"})]),e._v(" "),e.isFollowed?r("div",{staticClass:"player__follow",on:{click:function(t){return t.stopPropagation(),e._unFollow()}}},[r("i",{staticClass:"fas fa-heart"})]):r("div",{staticClass:"player__unfollow",on:{click:function(t){return t.stopPropagation(),e._follow()}}},[r("i",{staticClass:"far fa-heart"})]),e._v(" "),r("div",{staticClass:"player__change-quality",on:{click:function(t){return t.stopPropagation(),e.showQualities()}}},[r("i",{staticClass:"fas fa-cog"})]),e._v(" "),r("div",{staticClass:"player__qualities"}),e._v(" "),e.isPlayerLoading?r("div",{staticClass:"player__loading"},[e._v("\n        Loading...\n      ")]):e._e()]),e._v(" "),r("div",{ref:"player",staticClass:"player"}),e._v(" "),r("QualityChange",{attrs:{qualities:e.qualities,isShow:e.showQualityChange,changeQuality:e.changeQuality,currQuality:e.currQuality}})],1),e._v(" "),r("div",{staticClass:"chat",style:e.isPlayerFull?"display: none":"display: block"},[r("iframe",{attrs:{src:"https://www.twitch.tv/embed/"+e.userName+"/chat?darkpopout",frameborder:"0",scrolling:"no",height:"100%",width:"100%"}})])])}),[],!1,null,"3886e981",null));t.default=f.exports}}]);